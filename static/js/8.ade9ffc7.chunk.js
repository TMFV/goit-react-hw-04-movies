(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[8],{68:function(t,e,s){t.exports={query:"MoviesView_query__SZE3D"}},77:function(t,e,s){"use strict";s.r(e);var a=s(32),r=s(33),c=s(35),n=s(34),o=s(0),i=s(1),h=s(36),u=s.n(h),l=s(68),p=s.n(l),d=s(3),j=Object(o.lazy)((function(){return s.e(11).then(s.bind(null,70))})),b=function(t){Object(c.a)(s,t);var e=Object(n.a)(s);function s(){var t;Object(a.a)(this,s);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).state={searchWords:"",searchResults:[],display:!1},t.searchTextToState=function(e){e.preventDefault(),t.setState({searchWords:e.target[0].value,display:!0}),t.onQueryChange(e.target[0].value),t.search(e.target[0].value),e.target.reset()},t.onQueryChange=function(e){t.props.history.push({pathname:t.props.location.pathname,search:"?query=".concat(e)})},t}return Object(r.a)(s,[{key:"componentDidMount",value:function(){null!==this.props.location.state&&(this.setState({searchWords:this.props.location.state.query,display:!0}),this.onQueryChange(this.props.location.state.query),this.search(this.props.location.state.query))}},{key:"search",value:function(t){var e=this;return u.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("140aa2a61156d040b45d8a45da490f38","&language=en-US&query=").concat(t,"&page=1&include_adult=false")).then((function(t){e.state.searchResults!==t.data.results&&e.setState({searchResults:t.data.results})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return console.log(this.state.searchWords),Object(d.jsx)("div",{children:Object(d.jsxs)(o.Suspense,{fallback:Object(d.jsx)("div",{children:"Loading..."}),children:[Object(d.jsxs)("form",{onSubmit:this.searchTextToState,type:"submit",children:[Object(d.jsx)("input",{type:"text",placeholder:"Search..."}),Object(d.jsx)("button",{type:"submit",children:"Search"})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:p.a.query,children:this.state.searchWords}),Object(d.jsxs)("ul",{children:[this.state.display&&Object(d.jsx)(j,{results:this.state.searchResults,words:this.state.searchWords}),""!==this.state.searchWords&&Object(d.jsx)(j,{results:this.state.searchResults,words:this.state.searchWords})]})]})]})})}}]),s}(o.Component);e.default=Object(i.f)(b)}}]);
//# sourceMappingURL=8.ade9ffc7.chunk.js.map